(function(t){function e(e){for(var r,s,a=e[0],c=e[1],l=e[2],d=0,h=[];d<a.length;d++)s=a[d],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&h.push(i[s][0]),i[s]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);u&&u(e);while(h.length)h.shift()();return n.push.apply(n,l||[]),o()}function o(){for(var t,e=0;e<n.length;e++){for(var o=n[e],r=!0,a=1;a<o.length;a++){var c=o[a];0!==i[c]&&(r=!1)}r&&(n.splice(e--,1),t=s(s.s=o[0]))}return t}var r={},i={app:0},n=[];function s(e){if(r[e])return r[e].exports;var o=r[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,s),o.l=!0,o.exports}s.m=t,s.c=r,s.d=function(t,e,o){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(s.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)s.d(o,r,function(e){return t[e]}.bind(null,r));return o},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],c=a.push.bind(a);a.push=e,a=a.slice();for(var l=0;l<a.length;l++)e(a[l]);var u=c;n.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"034f":function(t,e,o){"use strict";o("85ec")},"12aa":function(t,e,o){"use strict";o("2fb2")},1656:function(t,e,o){},1917:function(t,e,o){"use strict";o("1656")},"261a":function(t,e,o){t.exports=o.p+"img/blob_1.32777234.svg"},"2fb2":function(t,e,o){},"3c59":function(t,e,o){},5327:function(t,e,o){"use strict";o("7abd")},5673:function(t,e,o){t.exports=o.p+"img/blob_4.d628872b.svg"},"56d7":function(t,e,o){"use strict";o.r(e);o("e260"),o("e6cf"),o("cca6"),o("a79d");var r=o("2b0e"),i=o("8c4f"),n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-app",[o("router-view")],1)},s=[],a={name:"App",data:function(){return{}}},c=a,l=(o("034f"),o("2877")),u=o("6544"),d=o.n(u),h=o("7496"),v=Object(l["a"])(c,n,s,!1,null,null,null),p=v.exports;d()(v,{VApp:h["a"]});var f=o("f309");r["a"].use(f["a"]);var m=new f["a"]({}),C=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticStyle:{overflow:"hidden"}},[r("section",{staticClass:"scroll-target",staticStyle:{position:"relative"},attrs:{id:"greeter"}},[r("img",{attrs:{src:o("5673"),id:"blob-4"}}),r("div",{staticClass:"title-box"},[t._m(0),r("div",{staticClass:"title-ext"},[r("div",{staticClass:"ext-link"},[r("router-link",{attrs:{to:"/editor",target:"_blank"}},[r("span",{staticClass:"ext-link-text"},[t._v("Try the table "),r("span",{staticClass:"acc"},[t._v("editor")])]),r("span",{staticClass:"ext-link-icon"},[r("v-icon",[t._v("mdi-arrow-top-right")]),r("span",{staticClass:"ext-link-icon-circle"})],1)])],1),r("div",{staticClass:"ext-link"},[r("a",{attrs:{href:"https://try-ctab.github.io/spec",target:"_blank"}},[t._m(1),r("span",{staticClass:"ext-link-icon"},[r("v-icon",[t._v("mdi-arrow-top-right")]),r("span",{staticClass:"ext-link-icon-circle"})],1)])])])]),r("div",{staticClass:"demo-CTAB"},[r("plainCTAB",{attrs:{"show-source":!1,CTAB:t.demoCTAB}})],1),r("div",{staticClass:"scroll-hint"},[t._v("scroll to read more")])]),r("section",{staticClass:"mini-page m-clearer scroll-target"},[t._m(2),r("div",{staticClass:"versus-box"},[r("div",{staticClass:"mobile vs-hint"},[t._v("Compare the two ways below")]),r("div",{staticClass:"versus-item",attrs:{id:"plaintext-demo"}}),r("div",{staticClass:"versus-icon"},[t._v("VS.")]),r("div",{attrs:{id:"ctab-demo"}},[r("plainCTAB",{attrs:{"show-source":!1,CTAB:t.staticCTAB}})],1)]),r("v-btn",{staticClass:"versus-refresh",attrs:{outlined:"",color:"rgba(0,0,0,0.3"},on:{click:t.refreshVersusDemo}},[t._v(" refresh example ")])],1),r("section",{staticClass:"mini-page m-batteries scroll-target"},[r("div",{staticClass:"page-flexbox"},[r("div",{staticStyle:{position:"relative"}},[r("img",{staticStyle:{position:"absolute",left:"-5rem",top:"-8rem","z-index":"0",width:"33rem"},attrs:{src:o("261a")}}),r("div",{staticClass:"mini-page-title",staticStyle:{"z-index":"1",position:"relative"}},[t._v(" Batteries Included ")]),t._m(3),r("router-link",{attrs:{to:"/editor",target:"_blank"}},[r("v-btn",{staticClass:"editor-link",attrs:{rounded:"",color:"var(--theme-reddish)",outlined:"","x-large":""}},[t._v(" Try the online editor ")])],1)],1),t._m(4)])]),r("section",{staticClass:"mini-page m-flexible scroll-target"},[r("div",{staticClass:"page-flexbox"},[r("div",{staticStyle:{display:"flex","flex-direction":"column","justify-content":"center","align-items":"center",height:"100%"}},[r("a",{staticClass:"format-link",attrs:{href:"https://try-ctab.github.io/spec",target:"_blank"}},[r("v-icon",[t._v("mdi-text-box-search-outline")]),r("div",[t._v("Read the draft specification")])],1),r("router-link",{staticClass:"format-link",attrs:{to:"/check-CTAB",target:"_blank"}},[r("v-icon",[t._v("mdi-sticker-check-outline")]),r("div",[t._v("CTAB string format checker")])],1)],1),t._m(5)])]),r("footer",{staticClass:"final-navigation-link m-endlink scroll-target"},[t._m(6),r("div",{staticClass:"end-nav-link"},[r("v-btn",{staticClass:"ma-2",attrs:{outlined:"",color:"var(--theme-reddish)"},on:{click:function(e){return t.goToTop()}}},[r("v-icon",[t._v("mdi-arrow-up-thick")]),t._v(" Back to top "),r("v-icon",[t._v("mdi-arrow-up-thick")])],1)],1),r("div",{staticClass:"footer-subtle"},[t._v("Last updated in 2021")])])])},g=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"title-main"},[t._v("Contribution"),o("br"),t._v("Tables")])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("span",{staticClass:"ext-link-text"},[t._v("Read the "),o("span",{staticClass:"acc"},[t._v("spec")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticStyle:{position:"relative"}},[r("img",{staticStyle:{position:"absolute",left:"3rem",top:"-5rem","z-index":"0",width:"25rem"},attrs:{src:o("89d6")}}),r("div",{staticClass:"page-flexbox"},[r("div",{staticClass:"mini-page-title"},[t._v("A clearer way to show "),r("br"),t._v(" contributions")]),r("div",{staticClass:"mini-page-subtext"},[t._v("Figures and diagrams are front and center in publications, and for good reason. A diagram can convey information much faster and more effectively than long paragraphs of text. "),r("b",[t._v(" Why not display your author contributions in a diagram too? ")])])])])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"mini-page-subtext",staticStyle:{position:"relative"}},[t._v(" This page has an easy-to-use web editor that can be used to quickly put together your own contribution table. On top of that, there are many export options to make including your contribution table as seamless as possible with your workflow. "),o("br"),o("br"),t._v(" No fumbling in Illustrator or pasting JPEGs into your manuscript.")])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("img",{staticClass:"export-option-images",attrs:{src:o("a114")}})])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"page-text",staticStyle:{position:"relative"}},[r("img",{staticStyle:{position:"absolute",left:"-10%",top:"-10%","z-index":"0",width:"120%"},attrs:{src:o("8796")}}),r("div",{staticStyle:{position:"relative","z-index":"1"}},[r("div",{staticClass:"mini-page-title"},[t._v("A common format")]),r("div",{staticClass:"mini-page-subtext"},[t._v(" In order to make including a contribution table (CTAB for short) in manuscripts commonplace, there needs to be some kind of standard. That way, it will be possible to make it "),r("b",[t._v("machine readable")]),t._v(" and easily transferrable between sources (e.g. your slides, manuscript, website). "),r("br"),r("br"),t._v(" In addition, journals should be able to enforce their own aesthetic choices, and have some control over the categories they want to "),r("b",[t._v("require")]),t._v(" or set their own recommendations. ")])])])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"footer-subtle"},[t._v("Maintained by Nemo Andrea "),o("a",{attrs:{src:"https://github.com/try-CTAB",target:"_blank"}},[t._v("on GitHub")])])}],b=(o("4de4"),o("4160"),o("a15b"),o("d81d"),o("159b"),o("2909")),T=o("b85c"),y=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"plainCTAB"},[o("table",{ref:"mytable",staticClass:"CTAB"},[o("tr",[o("td",{staticClass:"CTAB-meta"},[o("span",{staticClass:"CTAB-hidden"},[t._v("|")]),t._v("CTAB V"+t._s(t.CTAB.version)),o("span",{staticClass:"CTAB-hidden"},[t._v("|")])]),t._l(t.CTAB.cols,(function(e){return o("td",{key:e.id,staticClass:"CTAB-column-anchor"},[o("div",{staticClass:"CTAB-column"},[t._v(" "+t._s(e)),o("span",{staticClass:"CTAB-hidden"},[t._v("|")])])])}))],2),t._l(t.CTAB.rows,(function(e,r){return o("tr",{key:e.id},[o("td",{staticClass:"CTAB-row"},[o("span",{staticClass:"CTAB-hidden"},[t._v("|")]),t._v(t._s(e)),o("span",{staticClass:"CTAB-hidden"},[t._v("|")])]),t._l(t.CTAB.contributions.map((function(t){return t[r]})),(function(e){return o("td",{key:e.id,staticClass:"CTAB-grid-el",class:"CTAB-contribution-level-"+e},[t._v(" "+t._s("*".repeat(e))),o("span",{staticClass:"CTAB-hidden"},[t._v("|")])])}))],2)}))],2),t.loaded&&t.showSource?o("div",{staticClass:"CTAB-source-view"},[o("div",{staticClass:"CTAB-source-view-title"},[t._v("Source view (for changing styles or adding to your own HTML page)")]),t._v(" "+t._s(t.formatHTML(t.CTABel))+" "),o("br"),o("br"),t._v(" "+t._s(t.formatJS(t.CTABscript))+" "),o("br"),o("br"),t._v(" "+t._s(t.formatCSS(t.CTABstyle))+" ")]):t._e(),o("script",{ref:"CTABscript",tag:"component"}),o("style",{ref:"CTABstyle",tag:"component"},[t._v(" .CTAB { --gridsize: 40px; padding-top: 5rem; margin-top: 5rem; } table.CTAB {border-collapse: collapse; border-spacing: 0} .CTAB-meta { color: #E8E8E8; font-weight: bold; } .CTAB-column-anchor { position: relative; } .CTAB-column { white-space: nowrap; position: absolute; bottom: 0px; left: 15px; transform-origin: center left; transform: rotate(-70deg); width: 100px; } .CTAB-row{ white-space: nowrap; padding-right: 0.4rem; text-align: right; } .CTAB-grid-el { background-color: floralwhite; font-size: 8px; border: 4px solid black; width: var(--gridsize); height: var(--gridsize); } .CTAB-contribution-level-0 { background-color: white; color: white; } .CTAB-contribution-level-1 { background-color: #A0A0A0; color: #A0A0A0; } .CTAB-contribution-level-2 { background-color: #303030; color: #303030 } .CTAB-hidden { color: transparent } ")])],1)},w=[],_=(o("fb6a"),o("ac1f"),o("466d"),o("1276"),o("a623"),o("caad"),o("a9e3"),o("4fad"),o("b64b"),o("2532"),o("5319"),o("498a"),o("3835"));function A(t){console.log("[Parser] parsing (possible) query string...",t);for(var e={},o=0,r=Object.entries(t);o<r.length;o++){var i=Object(_["a"])(r[o],2),n=i[0],s=i[1];n=n.replace("#",""),console.log(n,"<->",s.split(",")),e[n]="contributions"===n?s.split("~").map((function(t){return t.split(",")})):"version"===n?Number(s):s.split(",")}return e}function k(t){console.log("[Parser] parsing plain CTAB string");var e={},o=t.split("\n").filter((function(t){return t}));return o.forEach((function(t,o){var r=t.split("|").filter((function(t){return t.length>0}));if(r=r.map((function(t){return t.trim().replace("\t","")})),0===o){var i=r[0].match(/\d*\.?\d*$/)[0];e.version=i.length>0?i:"?",e.cols=r.slice(1),e.rows=[],e.contributions=r.slice(1).map((function(){return[]}))}else e.rows.push(r[0]),e.contributions.forEach((function(t,e){t.push((r[e+1].match(/\*/g)||[]).length)}))})),e}function B(t){var e=!0;if(Object.keys(t).length>0){for(var o=["version","rows","cols","contributions"],r=0,i=o;r<i.length;r++){var n=i[r];if(!Object.keys(t).includes(n)){e=!1,console.warn("Invalid CTAB: Not all of the required keys (".concat(o,") were present in CTAB Object"));break}if(0===t[n].length){e=!1,console.warn("Invalid CTAB: the required key '".concat(n,"' is empty"));break}}t.cols.length!==t.contributions.length&&(e=!1,console.warn("Invalid CTAB: number of contribution sets does not match the number of columns")),t.contributions.every((function(e){return e.length===t.rows.length}))||(e=!1,console.warn("Invalid CTAB: The length of all contributions does not the number of categories (rows)"))}else e=!1,console.warn("Invalid CTAB: empty Object");return e}function x(t){if(null===t)return[!1,""];try{for(var e=JSON.parse(t),o=["configVersion","id","categories"],r=0,i=o;r<i.length;r++){var n=i[r];if(!Object.keys(e).includes(n))return console.log("missing key: "+n),[!1,"Config JSON missing required key: "+n]}return Array.isArray(e.categories)?e.categories.length>1?[!0,null]:[!1,'Only one item in "categories" array. At least 2 are required.']:[!1,'Categories are not formatted as array. Example of valid is -> categories: ["experiments","writing"]']}catch(s){return s instanceof SyntaxError?[!1,"Invalid JSON, did you paste the whole config string?"]:[!1,s]}}var S={name:"plainCTAB",props:{CTAB:{type:Object,default:function(){return{cols:["none"],rows:["an error occurred"],contributions:[[0]],version:" undefined"}}},showSource:{type:Boolean,default:!0},OfficeMode:{type:Boolean,default:!1}},data:function(){return{loaded:!1,CTABel:"",CTABstyle:"",CTABscript:""}},methods:{formatHTML:function(t){var e=t.outerHTML,o="\t",r="",i="";return e.split(/></).forEach((function(t){t.match(/^\/\w/)&&(i=i.substring(o.length)),r+=i+"<"+t+">\r\n",t.match(/^<?\w[^>]*[^]$/)&&(i+=o)})),r.substring(1,r.length-3)},copyCTAB:function(){var t,e,o=document.querySelector(".CTAB");document.body.createTextRange?(t=document.body.createTextRange(),t.moveToElement(o),t.select()):window.getSelection&&(e=window.getSelection(),t=document.createRange(),t.selectNodeContents(o),e.removeAllRanges(),e.addRange(t)),document.execCommand("copy"),window.getSelection().removeAllRanges()},formatJS:function(t){var e=t.outerHTML,o=e.slice(0,e.length-10),r=o.slice(9,o.length),i="";return r.split(/(;)/).forEach((function(t){";"===t?i+=t:t.length>0&&(i+="\r\n\t"+t)})),i="<script>"+i,i+="\r\n<\/script>",i},formatCSS:function(t){var e=t.outerHTML,o="\t",r="";return e.split(/([{;}])/).forEach((function(t){"{"===t?r+=t+"\r\n"+o:"}"===t?(r=r.substring(0,r.length-2),r+=t+"\r\n"):r+=";"===t?t+"\r\n\t":t})),r}},mounted:function(){var t=this,e=A(this.$route.query);B(e)&&(console.log("[Parser] adding CTAB from query string!"),this.CTAB=e),this.$nextTick((function(){t.CTABel=document.querySelector(".CTAB"),t.CTABstyle=t.$refs.CTABstyle,t.CTABscript=t.$refs.CTABscript,t.loaded=!0,t.OfficeMode&&document.querySelectorAll(".CTAB-hidden").forEach((function(t){t.closest(".CTAB-grid-el")||(t.style.color="white")}))}))}},D=S,L=(o("6a29"),Object(l["a"])(D,y,w,!1,null,null,null)),E=L.exports,O=o("cffa"),M=o("1dac"),R=o("9420");O["a"].registerPlugin(M["a"],R["a"]);var j={name:"promotionalPage",components:{plainCTAB:E},data:function(){return{demoCTAB:{cols:["loading..."],rows:["loading..."],contributions:[[0]],version:"0.2"},demoNames:["E.X. Ample","R.E. Vision","E.X. Periment","F. Unding","M.A.N. Uscript","C. Ontrol","S. Ignificant","C. Orrespondence","P.O. Ster","B.R. Eakthrough","N. Ovel","E.V.I. Dently","T. Enure","S. Eminar","C.O.M. Petition","C. Ommunication","M.E. Thods","A.C. Knowledgements"],demoCategories:["Conceptualisation","Coffee breaks","Purification","X-ray diffraction","Scripting","Data Analysis","Funding","Outreach","Communication","Cryo EM","Fabrication","Tuning","Discussions","Experimental Design","Cell Culture","Transfection","Image processing","Synthesis","Training"],demoLimits:{minrows:3,mincols:4,maxrows:7,maxcols:12,maxLevel:2,intermediateLevelChance:.3},staticCTAB:null}},methods:{goToSection:function(t,e){O["a"].to(window,{scrollTo:{y:t,autoKill:!1},duration:1}),e&&e.restart()},goToTop:function(){O["a"].to(window,{scrollTo:"#greeter",duration:.5})},buildRandomCTAB:function(){var t=this,e={};e.version=this.demoCTAB.version,e.cols=this.getRandom(this.demoNames,Math.round(Math.random()*(this.demoLimits.maxcols-this.demoLimits.mincols))+this.demoLimits.mincols),e.rows=this.getRandom(this.demoCategories,Math.round(Math.random()*(this.demoLimits.maxrows-this.demoLimits.minrows))+this.demoLimits.minrows);var o,r=[],i=Object(T["a"])(e.cols);try{for(i.s();!(o=i.n()).done;){name=o.value;var n,s=[],a=Object(T["a"])(e.rows);try{for(a.s();!(n=a.n()).done;){n.value;var c=Math.round(Math.random()*this.demoLimits.maxLevel);c>0&&c<this.demoLimits.maxLevel&&Math.random()>this.demoLimits.intermediateLevelChance&&(c=0),s.push(c)}}catch(h){a.e(h)}finally{a.f()}if(0===Math.max.apply(Math,s)){var l=Math.round(Math.random()*(e.rows.length-1));s[l]=this.demoLimits.maxLevel}r.push(s)}}catch(h){i.e(h)}finally{i.f()}for(var u=function(o){var i=r.map((function(t){return t[o]}));if(Math.max.apply(Math,Object(b["a"])(i))<t.demoLimits.maxLevel){var n=Math.round(Math.random()*(e.cols.length-1));r[n][o]=t.demoLimits.maxLevel}},d=0;d<e.rows.length;d++)u(d);e.contributions=r,this.demoCTAB=e},getRandom:function(t,e){var o=new Array(e),r=t.length,i=new Array(r);if(e>r)throw new RangeError("getRandom: more elements taken than available");while(e--){var n=Math.floor(Math.random()*r);o[e]=t[n in i?i[n]:n],i[n]=--r in i?i[r]:r}return o},refreshVersusDemo:function(){this.buildRandomCTAB(),this.staticCTAB=this.demoCTAB,this.ctabToString()},ctabToString:function(){var t=this,e="";this.staticCTAB.cols.forEach((function(o,r){e+="<b>"+o+"</b>";var i=t.staticCTAB.contributions[r],n=t.staticCTAB.rows.filter((function(t,e){return 2===i[e]}));n.length>0&&(e+=" made major contributions to <i>"+n.join("</i>, <i>")+"</i>");var s=t.staticCTAB.rows.filter((function(t,e){return 1===i[e]}));s.length>0&&n.length>0&&(e+=" and "),s.length>0&&(e+=" made minor contributions to <i>"+s.join("</i>, <i>")+"</i>"),e+=". "})),document.querySelector("#plaintext-demo").innerHTML=e}},mounted:function(){var t=this,e=document.querySelectorAll(".scroll-target");this.refreshVersusDemo(),window.setInterval((function(){t.buildRandomCTAB()}),800),window.innerWidth>600&&(console.log("Setting up gsap scroll"),e.forEach((function(e){M["a"].create({trigger:e,onEnter:function(){return t.goToSection(e)}})})),O["a"].to(window,{scrollTo:"#greeter",duration:1}))}},V=j,$=(o("5327"),o("8336")),I=o("132d"),q=Object(l["a"])(V,C,g,!1,null,"02ebe514",null),P=q.exports;d()(q,{VBtn:$["a"],VIcon:I["a"]});var F=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"CTAB-editor"},[t._m(0),o("div",{staticClass:"top-flexbox"},[t._m(1),o("div",{staticClass:"templates-box"},[o("div",[o("div",{staticClass:"template-header"},[o("v-icon",[t._v("mdi-table-plus")]),t._v("Select Template ")],1),o("div",{staticClass:"template-options"},[o("v-list",{attrs:{rounded:""}},[o("v-list-item-group",{attrs:{color:"var(--theme-reddish)"}},[t._l(Object.keys(t.templates),(function(e,r){return o("v-list-item",{key:r,on:{click:function(o){return t.loadTemplate(t.templates[e])}}},[o("v-list-item-content",[o("v-list-item-title",{domProps:{textContent:t._s(e)}})],1),o("v-tooltip",{attrs:{right:"","max-width":"25em"},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,i=e.attrs;return[o("v-icon",t._g(t._b({staticClass:"template-info"},"v-icon",i,!1),r),[t._v(" mdi-information-outline ")])]}}],null,!0)},[o("span",{domProps:{innerHTML:t._s(t.templates[e].info)}})])],1)})),o("v-list-item",{on:{click:function(e){t.templateDialog=!0}}},[o("v-list-item-content",[o("v-list-item-title",[t._v("Config String")])],1),o("v-tooltip",{attrs:{right:"","max-width":"25em"},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,i=e.attrs;return[o("v-icon",t._g(t._b({staticClass:"template-info"},"v-icon",i,!1),r),[t._v(" mdi-upload ")])]}}])},[o("span",[t._v("Upload a publisher specific format string. Found on publisher pages.")])]),o("v-dialog",{attrs:{"max-width":"900"},model:{value:t.templateDialog,callback:function(e){t.templateDialog=e},expression:"templateDialog"}},[o("v-card",[o("v-card-title",{staticClass:"headline"},[t._v(" Paste CTAB Config String ")]),o("v-card-text",{staticStyle:{"font-style":"italic"}},[t._v(" Publishers or other users may have a suggested group of categories to include in your CTAB. They can provide these as a CTAB Config String. Simply copy and paste it in the box below. For more information on the technical side, see "),o("a",{staticStyle:{color:"var(--theme-reddish)"},attrs:{href:"https://try-ctab.github.io/spec/for-journals/#journal-specific-config-format",target:"_blank"}},[t._v(" the CTAB spec")])]),o("v-card-text",[o("v-textarea",{attrs:{filled:"",clearable:"",label:"Paste CTAB config string here",color:"var(--theme-reddish)","auto-grow":""},on:{change:t.checkConfigString},model:{value:t.configString.config,callback:function(e){t.$set(t.configString,"config",e)},expression:"configString.config"}}),t.configString.error?o("v-alert",{attrs:{dense:"",outlined:"",type:"error"}},[t._v(t._s(t.configString.error)+" ")]):t._e()],1),o("v-card-actions",[o("v-spacer"),o("v-btn",{attrs:{color:"gray",text:""},on:{click:function(e){t.templateDialog=!1}}},[t._v(" Close ")]),t.configString.valid?o("v-btn",{attrs:{color:"var(--theme-reddish)",text:""},on:{click:t.loadTemplateString}},[t._v(" Use as Template ")]):t._e()],1)],1)],1)],1)],2)],1)],1)])]),o("div",{staticClass:"mini-header"},[o("div",{staticClass:"ext-link"},[o("router-link",{attrs:{to:"/"}},[o("span",{staticClass:"ext-link-text"},[t._v("Read the "),o("span",{staticClass:"acc"},[t._v("why")])]),o("span",{staticClass:"ext-link-icon"},[o("v-icon",[t._v("mdi-arrow-top-right")]),o("span",{staticClass:"ext-link-icon-circle"})],1)])],1),o("div",{staticClass:"ext-link"},[o("a",{attrs:{href:"https://try-ctab.github.io/spec",target:"_blank"}},[t._m(2),o("span",{staticClass:"ext-link-icon"},[o("v-icon",[t._v("mdi-arrow-top-right")]),o("span",{staticClass:"ext-link-icon-circle"})],1)])])])]),o("div",{staticClass:"editor-flexbox"},[o("div",{staticClass:"shortcut-box"},[o("div",{staticClass:"shortcut-title"},[t._v("Keyboard Shortcuts")]),t._m(3),t._m(4),o("div",{staticClass:"shortcut-hint"},[t._v(" Use "),o("span",{staticClass:"keyboard-key"},[o("v-icon",{attrs:{color:"var(--keyboard-white)"}},[t._v("mdi-arrow-left")])],1),t._v(", "),o("span",{staticClass:"keyboard-key"},[o("v-icon",{attrs:{color:"var(--keyboard-white)"}},[t._v("mdi-arrow-right")])],1),t._v(", "),o("span",{staticClass:"keyboard-key"},[o("v-icon",{attrs:{color:"var(--keyboard-white)"}},[t._v("mdi-arrow-up")])],1),t._v(", "),o("span",{staticClass:"keyboard-key"},[o("v-icon",{attrs:{color:"var(--keyboard-white)"}},[t._v("mdi-arrow-down")])],1),t._v(" To navigate ")]),t._m(5),o("div",{staticClass:"shortcut-hint"},[t._v(" Use "),o("span",{staticClass:"keyboard-key"},[t._v("Shift")]),t._v("+"),o("span",{staticClass:"keyboard-key"},[t._v("Right "),o("v-icon",{attrs:{color:"var(--keyboard-white)"}},[t._v("mdi-cursor-default-click")])],1),t._v(" on a label to delete a row/column")]),o("div",{staticClass:"shortcut-hint"},[t._v(" Use "),o("span",{staticClass:"keyboard-key"},[t._v("Shift ")]),t._v("+"),o("span",{staticClass:"keyboard-key"},[o("v-icon",{attrs:{color:"var(--keyboard-white)"}},[t._v("mdi-arrow-left")])],1),t._v(", "),o("span",{staticClass:"keyboard-key"},[o("v-icon",{attrs:{color:"var(--keyboard-white)"}},[t._v("mdi-arrow-right")])],1),t._v(", "),o("span",{staticClass:"keyboard-key"},[o("v-icon",{attrs:{color:"var(--keyboard-white)"}},[t._v("mdi-arrow-up")])],1),t._v(", "),o("span",{staticClass:"keyboard-key"},[o("v-icon",{attrs:{color:"var(--keyboard-white)"}},[t._v("mdi-arrow-down")])],1),t._v(" to move rows and columns ")]),t._m(6),t._m(7),t._m(8)]),o("div",{staticClass:"editor-tbl-container"},[o("table",{attrs:{id:"editor-tbl"}},[o("tr",[o("th",{staticClass:"CTAB-meta"},[t._v("CTAB V"+t._s(t.CTAB.version))]),t._l(t.CTAB.cols,(function(e,r){return o("td",{key:e.id,class:"grid-c"+(r+1)+"r0",staticStyle:{position:"relative"}},[o("div",{staticClass:"CTAB-column-input"},[o("v-text-field",{ref:"col"+(r+1),refInFor:!0,attrs:{color:"var(--theme-deep-red)",value:t.CTAB.cols[r],dense:"","hide-details":""},on:{focus:function(t){return t.target.select()},click:function(e){return t.editLabelClick(r+1,0)},contextmenu:function(e){return e.preventDefault(),t.removeClick(r+1,0)}},model:{value:t.CTAB.cols[r],callback:function(e){t.$set(t.CTAB.cols,r,e)},expression:"CTAB.cols[index]"}})],1)])}))],2),t._l(t.CTAB.rows,(function(e,r){return o("tr",{key:e.id},[o("td",{staticClass:"CTAB-row",class:"grid-c0r"+(r+1)},[o("v-text-field",{ref:"row"+(r+1),refInFor:!0,attrs:{color:"var(--theme-deep-red)",value:t.CTAB.rows[r],dense:"","hide-details":""},on:{focus:function(t){return t.target.select()},click:function(e){return t.editLabelClick(0,r+1)},contextmenu:function(e){return e.preventDefault(),t.removeClick(0,r+1)}},model:{value:t.CTAB.rows[r],callback:function(e){t.$set(t.CTAB.rows,r,e)},expression:"CTAB.rows[rowIndex]"}})],1),t._v(" "),t._l(t.CTAB.contributions.map((function(t){return t[r]})),(function(e,i){return o("td",{key:e.id,staticClass:"grid-el",class:"contribution-level-"+e+" grid-c"+(i+1)+"r"+(r+1),on:{click:function(e){return t.editContents(i,r)}}},[t._v(" "+t._s("*".repeat(e))+" ")])}))],2)}))],2)])]),o("div",{staticClass:"export-box"},[o("div",{staticClass:"export-header"},[t._v("Export options")]),o("div",{staticClass:"export-options"},[o("export-card",{attrs:{format:"raw","contribution-table":t.CTAB,"alt-option":!0,"export-text-primary":"download"},scopedSlots:t._u([{key:"header",fn:function(){return[t._v("Raw Format")]},proxy:!0},{key:"quick-summary",fn:function(){return[t._v("Export the "+t._s(t.name)+" in the plaintext Raw Format.")]},proxy:!0}])}),o("export-card",{attrs:{format:"link","contribution-table":t.CTAB},scopedSlots:t._u([{key:"header",fn:function(){return[t._v("Editor link")]},proxy:!0},{key:"quick-summary",fn:function(){return[t._v("Export as a sharable link to the editor")]},proxy:!0}])}),o("div",{staticClass:"export-item-spacer"},[t._v("OR")]),o("export-card",{attrs:{details:!0,format:"LaTeX","contribution-table":t.CTAB},scopedSlots:t._u([{key:"header",fn:function(){return[t._v("LaTeX table")]},proxy:!0},{key:"quick-summary",fn:function(){return[t._v("Export the "+t._s(t.name)+" as a LaTeX table")]},proxy:!0},{key:"details-text",fn:function(){return[t._v("The default export includes the "),o("b",[t._v("[xcolor, array, graphicx, hhline]")]),t._v(" packages. If you want a plain LaTeX version, press 'alt export' ")]},proxy:!0}])}),o("export-card",{attrs:{format:"markdown","contribution-table":t.CTAB},scopedSlots:t._u([{key:"header",fn:function(){return[t._v("Markdown")]},proxy:!0},{key:"quick-summary",fn:function(){return[t._v("Export the "+t._s(t.name)+" as a plain Markdown table")]},proxy:!0}])}),o("export-card",{attrs:{"contribution-table":t.CTAB,exportTextPrimary:"Export",format:"HTML"},scopedSlots:t._u([{key:"header",fn:function(){return[t._v(" HTML")]},proxy:!0},{key:"quick-summary",fn:function(){return[t._v("Export as HTML element, complete with styling and JS")]},proxy:!0}])}),o("export-card",{attrs:{"contribution-table":t.CTAB,format:"Office"},scopedSlots:t._u([{key:"header",fn:function(){return[t._v("Word table")]},proxy:!0},{key:"quick-summary",fn:function(){return[t._v("Export as a table for Microsoft Office")]},proxy:!0}])}),o("export-card",{attrs:{"contribution-table":t.CTAB,format:"svg"},scopedSlots:t._u([{key:"header",fn:function(){return[t._v("SVG")]},proxy:!0},{key:"quick-summary",fn:function(){return[t._v("Export as a svg object")]},proxy:!0}])}),o("div",{staticClass:"halfbackdrop"})],1)])])},H=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"mobile-message mobile"},[o("div",{staticClass:"mobile-message-contents"},[t._v(" Sorry, on mobile devices functionality is limited to view only. Use a desktop or tablet to create and edit tables! ")])])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"title-box"},[o("div",{staticClass:"title-major"},[t._v(" Build your "),o("br"),o("span",{staticClass:"acc"},[t._v("Contribution "),o("br"),t._v(" Table ")]),t._v(" today ")])])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("span",{staticClass:"ext-link-text"},[t._v("Read the "),o("span",{staticClass:"acc"},[t._v("spec")])])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"shortcut-hint"},[t._v(" Press "),o("span",{staticClass:"keyboard-key"},[t._v("Ctrl")]),t._v("+"),o("span",{staticClass:"keyboard-key"},[t._v("C")]),t._v(" for a new column ")])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"shortcut-hint"},[t._v(" Press "),o("span",{staticClass:"keyboard-key"},[t._v("Ctrl")]),t._v("+"),o("span",{staticClass:"keyboard-key"},[t._v("R")]),t._v(" for a new row ")])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"shortcut-hint"},[t._v(" Press "),o("span",{staticClass:"keyboard-key"},[t._v("Ctrl")]),t._v("+"),o("span",{staticClass:"keyboard-key"},[t._v("Q")]),t._v(" to delete a row, "),o("span",{staticClass:"keyboard-key"},[t._v("Ctrl")]),t._v("+"),o("span",{staticClass:"keyboard-key"},[t._v("S")]),t._v(" to delete a column")])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"shortcut-hint"},[t._v("Use "),o("span",{staticClass:"keyboard-key"},[t._v("+")]),t._v(","),o("span",{staticClass:"keyboard-key"},[t._v("-")]),t._v(" or press"),o("span",{staticClass:"keyboard-key"},[t._v("1")]),o("span",{staticClass:"keyboard-key"},[t._v("2")]),o("span",{staticClass:"keyboard-key"},[t._v("3")]),t._v(" to set contribution degree")])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"shortcut-hint"},[t._v("Press "),o("span",{staticClass:"keyboard-key"},[t._v("Enter ")]),t._v(" to edit/confirm a label")])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"shortcut-hint"},[t._v("Press "),o("span",{staticClass:"keyboard-key"},[t._v("Shift ")]),t._v("+"),o("span",{staticClass:"keyboard-key"},[t._v("/")]),t._v(" to reset the table")])}],U=(o("99af"),o("cb29"),o("a434"),function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticStyle:{height:"100%"}},[o("v-card",{staticClass:" export-item",attrs:{disabled:t.notReady,"max-width":"220px",height:"80%"}},[o("v-card-title",[t._t("header",[t._v("Export Option")])],2),o("v-card-text",{staticClass:"quick-summary-text"},[t._t("quick-summary",[t._v("This will export the table in the format above")])],2),o("v-card-actions",{staticClass:"export-card-buttons"},[o("v-btn",{attrs:{text:"",color:"var(--theme-brightpink)"},on:{click:function(e){return t.exportTable(!1)}}},[t._v(" "+t._s(t.exportTextPrimary)+" ")]),t.details?o("v-btn",{attrs:{text:"",color:"rgba(0,0,0,0.5)"},on:{click:function(e){t.reveal=!0}}},[t._v(" Details ")]):t._e(),t.altOption?o("v-btn",{attrs:{text:"",color:"rgba(0,0,0,0.5)"},on:{click:function(e){return t.exportTable(!0)}}},[t._v(" Copy ")]):t._e()],1),o("v-expand-transition",[t.reveal?o("v-card",{staticClass:"transition-fast-in-fast-out card-export-details",staticStyle:{height:"100%"}},[o("v-card-text",{staticClass:"pb-0 details-text"},[t._t("details-text",[t._v("You can find more details "),o("a",{attrs:{href:"https://try-ctab.github.io/spec/export-formats/"}},[t._v("in the docs")])])],2),o("v-card-actions",{staticClass:"pt-0 export-card-buttons"},[o("v-btn",{attrs:{text:"",color:"var(--theme-brightpink)"},on:{click:function(e){return t.exportTable(!0)}}},[t._v(" Alt Export ")]),o("v-btn",{attrs:{text:"",color:"rgba(0,0,0,0.5)"},on:{click:function(e){t.reveal=!1}}},[t._v(" Hide ")])],1)],1):t._e()],1)],1),o("v-snackbar",{attrs:{"multi-line":!0},scopedSlots:t._u([{key:"action",fn:function(e){var r=e.attrs;return[o("v-btn",t._b({attrs:{color:"red",text:""},on:{click:function(e){t.snackbar=!1}}},"v-btn",r,!1),[t._v(" Close ")])]}}]),model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(t.snackText)+" ")]),t.showHTML?o("plainCTAB",{attrs:{"show-source":!1,CTAB:t.contributionTable,OfficeMode:!0}}):t._e()],1)}),N=[];o("d3b7"),o("3ca3"),o("ddb0"),o("2b3d"),o("13d5"),o("38cf");function G(t,e){console.log("[Export Utilities] generating plaintext representation of table");var o=t.rows.reduce((function(t,e){return t.length>e.length?t:e})).length,r="";r+="| CTAB V"+t.version+" ".repeat(o-t.version.length-6)+" | "+t.cols.join(" | ")+" |\n",e&&(r+="| "+"-".repeat(o-1)+": | :"+t.cols.map((function(t){return"-".repeat(t.length-2)})).join(": | :")+": |\n");var i,n=Object(T["a"])(t.rows.entries());try{var s=function(){var e=Object(_["a"])(i.value,2),n=e[0],s=e[1];r+="| "+s+" ".repeat(o-s.length)+" | "+t.contributions.map((function(e,o){var r=t.cols[o].length,i=e[n];return" ".repeat(Math.floor((r-i)/2))+"*".repeat(i)+" ".repeat(Math.ceil((r-i)/2))})).join(" | ")+" |\n"};for(n.s();!(i=n.n()).done;)s()}catch(a){n.e(a)}finally{n.f()}return r}function z(t){var e=t.cols.length;console.log("[Export Utilities] generating rich LaTeX representation of table");var o="";o+="% Contribution table generated by https://try-ctab.github.io/#/editor \n",o+="% \\usepackage{array} \n",o+="% \\usepackage[table]{xcolor} \n",o+="% \\usepackage{graphicx} \n",o+="% \\usepackage{hhline} \n",o+="\\newcommand*\\rot{\\rotatebox{90}} \n",o+="\\setlength{\\arrayrulewidth}{0.7mm} \n",o+="\\renewcommand{\\arraystretch}{2.1} \n",o+="\\definecolor{version}{HTML}{DCDCDC}\n",o+="\\definecolor{background}{HTML}{FFFFFF}\n",o+="\\definecolor{C1}{HTML}{FFFFFF}\n",o+="\\definecolor{C2}{HTML}{A0A0A0}\n",o+="\\definecolor{C3}{HTML}{303030}\n",o+="\\begin{tabular}{ r | "+"m{0.5cm} | ".repeat(e)+"} \n",o+="\\multicolumn{1}{c}{\\textcolor{version}{CTAB V"+t.version+"\\textcolor{background}{|}}} & \\multicolumn{1}{c}{\\rot{"+t.cols.join("\\textcolor{background}{|}}} & \\multicolumn{1}{c}{\\rot{")+"\\textcolor{background}{|}}} \\\\ \n",o+="\\hhline{~|"+"-|".repeat(e)+"} \n";var r,i=Object(T["a"])(t.rows.entries());try{var n=function(){var i=Object(_["a"])(r.value,2),n=i[0],s=i[1];o+="\\textcolor{background}{|}"+s+"\\textcolor{background}{|} & "+t.contributions.map((function(t){return"\\cellcolor{C"+(t[n]+1)+"}\\textcolor{C"+(t[n]+1)+"}{"+"*".repeat(t[n])+"|}"})).join(" & ")+" \\\\ \n",o+="\\hhline{~|"+"-|".repeat(e)+"} \n"};for(i.s();!(r=i.n()).done;)n()}catch(s){i.e(s)}finally{i.f()}return o+="\\end{tabular}",o}function X(t){console.log("[Export Utilities] generating basic LaTeX representation of table");var e=t.cols.length,o="";o+="% Contribution table (no-package mode) generated by https://try-ctab.github.io/#/editor \n",o+="\\setlength{\\arrayrulewidth}{0.7mm} \n",o+="\\renewcommand{\\arraystretch}{2.1} \n",o+="\\begin{tabular}{ r | "+"c | ".repeat(e)+"} \n",o+="\\multicolumn{1}{c}{CTAB V"+t.version+"} & \\multicolumn{1}{c}{"+t.cols.join("} & \\multicolumn{1}{c}{")+"} \\\\ \n",o+="\\cline{2-"+(e+1)+"} \n";var r,i=Object(T["a"])(t.rows.entries());try{var n=function(){var i=Object(_["a"])(r.value,2),n=i[0],s=i[1];o+=s+" & "+t.contributions.map((function(t){return"*".repeat(t[n])})).join(" & ")+" \\\\ \n",o+="\\cline{2-"+(e+1)+"} \n"};for(i.s();!(r=i.n()).done;)n()}catch(s){i.e(s)}finally{i.f()}return o+="\\end{tabular}",o}function J(t,e){console.log("[Export Utilities] generating editor link for contribution table");var o="";return e||(o=window.location.href.split("?")[0]),o+="?",o+="version="+t.version,o+="&cols="+t.cols.map((function(t){return t.replace(/ /g,"%20")})),o+="&rows="+t.rows.map((function(t){return t.replace(/ /g,"%20")})),o+="&contributions="+t.contributions.join("~"),o}var K={name:"ExportCard",components:{plainCTAB:E},data:function(){return{reveal:!1,snackbar:!1,snackText:"",showHTML:!1,showSVG:!1}},props:{details:{type:Boolean,default:!1},altOption:{type:Boolean,default:!1},notReady:{type:Boolean,default:!1},contributionTable:{type:Object},format:{type:String,default:"raw"},exportTextPrimary:{type:String,default:"export"}},methods:{exportTable:function(t){switch(console.log("Exporting contribution table in "+this.format+" format..."),this.format){case"raw":this.exportRaw(t);break;case"link":this.exportLink();break;case"LaTeX":this.exportLaTeX(t);break;case"markdown":this.exportMarkdown();break;case"HTML":this.exportHTML();break;case"Office":this.exportOffice();break;case"pdf":this.exportPDF();break;case"svg":this.exportSVG();break;default:throw"Error exporting table: unrecognised format"}console.log("Export complete.")},exportRaw:function(t){console.log(G(this.contributionTable,!1));var e=G(this.contributionTable,!1);if(t)this.copyStringToClipboard(e),this.notify("Copied Raw Format to clipboard, you can now paste it somewhere");else{var o=new Blob([e],{type:"text/txt"}),r=window.document.createElement("a");r.href=window.URL.createObjectURL(o),r.download=this.contributionTable.cols[0].replace(/\s+/g,"")+".CTAB",document.body.appendChild(r),r.click(),document.body.removeChild(r),this.notify("Downloaded raw format (.CTAB) text file")}},exportLink:function(){var t=J(this.contributionTable,!1);this.copyStringToClipboard(t),this.notify("Copied editor link to clipboard. Share it with others!")},exportLaTeX:function(t){var e=null;e=t?X(this.contributionTable):z(this.contributionTable),console.log(e),this.copyStringToClipboard(e),this.notify("Copied LaTeX to clipboard, you can now paste it somewhere")},exportMarkdown:function(){var t=G(this.contributionTable,!0);console.log(t),this.copyStringToClipboard(t),this.notify("Copied Markdown table to clipboard, you can now paste it somewhere")},exportHTML:function(){var t=this.$router.resolve({name:"html-CTAB"});window.open(t.href+J(this.contributionTable,!0),"_blank"),this.notify("Opening HTML representation (with source) in new tab...")},exportOffice:function(){var t=this;this.showHTML=!0,this.notify("Microsoft Office compatible table copied to clipboard. Optional: manually rotate header in Office."),this.$nextTick((function(){t.$nextTick((function(){var e,o,r=document.querySelector(".CTAB");r.style.backgroundColor="transparent",document.body.createTextRange?(e=document.body.createTextRange(),e.moveToElement(r),e.select()):window.getSelection&&(o=window.getSelection(),e=document.createRange(),e.selectNodeContents(r),o.removeAllRanges(),o.addRange(e)),document.execCommand("copy"),window.getSelection().removeAllRanges(),t.showHTML=!1}))}))},exportSVG:function(){var t=this.$router.resolve({name:"svg-CTAB"});window.open(t.href+J(this.contributionTable,!0),"_blank"),this.notify("Opening svg representation in new tab...")},exportPDF:function(){console.log("PDF is not yet supported")},copyStringToClipboard:function(t){var e=document.createElement("textarea");document.body.appendChild(e),e.value=t,e.select(),document.execCommand("copy"),document.body.removeChild(e)},notify:function(t){this.snackText=t,this.snackbar=!0}}},W=K,Q=(o("cc41"),o("b0af")),Y=o("99d9"),Z=o("0789"),tt=o("2db4"),et=Object(l["a"])(W,U,N,!1,null,"cbed456a",null),ot=et.exports;d()(et,{VBtn:$["a"],VCard:Q["a"],VCardActions:Y["a"],VCardText:Y["b"],VCardTitle:Y["c"],VExpandTransition:Z["a"],VSnackbar:tt["a"]});var rt={CRediT:{categories:["Conceptualization","Data curation","Formal Analysis","Funding acquisition","Investigation","Methodology","Project administration","Resources","Software","Supervision","Validation","Visualization","Writing – original draft","Writing – review and editing"],info:"CRediT is a high level-taxonomy system that describes author contributions. Categories may be too general for a CTAB."},Minimal:{categories:["Experiments","Analysis","Writing","Funding"],info:"An extremely minimal template"}},it={name:"CTAB-editor",components:{ExportCard:ot},data:function(){return{CTAB:{cols:["E. X. Ample","T. Esting","R. E. Viewer"],rows:["manuscript","experiments","feedback"],contributions:[[0,1,2],[1,2,1],[0,0,1]],version:"0.1"},tableEl:null,keysDown:{},cursor:{row:2,col:2},metadata:{lowerDegreeLimit:0,upperDegreeLimit:2},name:"contribution table",focusedInput:null,templates:{},templateDialog:!1,configString:{config:"",valid:!1,error:null}}},methods:{editContents:function(t,e){this.cursor.row=e+1,this.cursor.col=t+1,this.drawCursor()},addRow:function(t){var e=this;this.CTAB.rows.splice(this.cursor.row,0,t);var o,r=Object(T["a"])(this.CTAB.contributions);try{for(r.s();!(o=r.n()).done;){var i=o.value;i.splice(this.cursor.row,0,this.metadata.lowerDegreeLimit)}}catch(n){r.e(n)}finally{r.f()}this.$nextTick((function(){e.setInputFocus("row"+(e.cursor.row+1)),Object.keys(e.keysDown).forEach((function(t){return e.keysDown[t]=!1})),e.cursor={row:e.cursor.row+1,col:1},e.drawCursor()}))},addColumn:function(t){var e=this;this.CTAB.cols.splice(this.cursor.col,0,t),this.CTAB.contributions.splice(this.cursor.col,0,Array(this.CTAB.rows.length).fill(this.metadata.lowerDegreeLimit)),this.$nextTick((function(){e.setInputFocus("col"+(e.cursor.col+1)),Object.keys(e.keysDown).forEach((function(t){return e.keysDown[t]=!1})),e.cursor={row:1,col:e.cursor.col+1},e.drawCursor()}))},removeRow:function(){var t=this;0!==this.cursor.row&&this.CTAB.rows.length>1&&(console.log("removing row nr: "+this.cursor.row),this.CTAB.rows.splice(this.cursor.row-1,1),this.CTAB.contributions.forEach((function(e){return e.splice(t.cursor.row-1,1)})),this.cursor.row-1===this.CTAB.rows.length&&this.cursor.row--,this.$nextTick((function(){t.drawCursor()})))},removeColumn:function(){var t=this;0!==this.cursor.col&&this.CTAB.cols.length>1&&(console.log("removing column nr: "+this.cursor.col),this.CTAB.cols.splice(this.cursor.col-1,1),this.CTAB.contributions.splice(this.cursor.col-1,1),this.cursor.col-1===this.CTAB.cols.length&&this.cursor.col--,this.$nextTick((function(){t.drawCursor()})))},removeClick:function(t,e){this.editContents(t-1,e-1),this.keysDown["Shift"]&&(0===t?this.removeRow():0===e&&this.removeColumn())},setContribution:function(t){var e=this;this.cursor.col>0&&this.cursor.row>0&&(console.log("Setting contribution of ".concat(this.CTAB.cols[this.cursor.col-1]," in category ").concat(this.CTAB.rows[this.cursor.row-1]," to: ").concat(t)),this.CTAB.contributions[this.cursor.col-1].splice(this.cursor.row-1,1,t)),this.$nextTick((function(){e.drawCursor()}))},changeContribution:function(t){var e=this;if(this.cursor.row>0&&this.cursor.col>0){var o=Number(this.CTAB.contributions[this.cursor.col-1][this.cursor.row-1]);t&&o<this.metadata.upperDegreeLimit?this.CTAB.contributions[this.cursor.col-1].splice(this.cursor.row-1,1,o+1):!t&&o>this.metadata.lowerDegreeLimit&&this.CTAB.contributions[this.cursor.col-1].splice(this.cursor.row-1,1,o-1),this.$nextTick((function(){e.drawCursor()}))}},rearrangeCTAB:function(t){var e=this;if(1===t&&this.cursor.col<this.CTAB.cols.length&&0!==this.cursor.col){var o=this.cursor.col-1,r=this.cursor.col,i=this.CTAB.cols[r],n=this.CTAB.cols[o];this.CTAB.cols.splice(r,1,n),this.CTAB.cols.splice(o,1,i);var s=this.CTAB.contributions[r];this.CTAB.contributions.splice(r,1,this.CTAB.contributions[o]),this.CTAB.contributions.splice(o,1,s)}else if(2===t&&this.cursor.col>1){var a=this.cursor.col-1,c=this.cursor.col-2,l=this.CTAB.cols[c],u=this.CTAB.cols[a];this.CTAB.cols.splice(c,1,u),this.CTAB.cols.splice(a,1,l);var d=this.CTAB.contributions[c];this.CTAB.contributions.splice(c,1,this.CTAB.contributions[a]),this.CTAB.contributions.splice(a,1,d)}else if(3===t&&this.cursor.row>1){var h=this.cursor.row-1,v=this.cursor.row-2,p=this.CTAB.rows[v],f=this.CTAB.rows[h];this.CTAB.rows.splice(v,1,f),this.CTAB.rows.splice(h,1,p);var m=this.CTAB.contributions.map((function(t){return t[v]}));this.CTAB.contributions.forEach((function(t){return t[v]=t[h]})),this.CTAB.contributions.forEach((function(t,e){return t[h]=m[e]}))}else if(4===t&&this.cursor.row<this.CTAB.rows.length&&0!==this.cursor.row){var C=this.cursor.row-1,g=this.cursor.row,b=this.CTAB.rows[g],T=this.CTAB.rows[C];this.CTAB.rows.splice(g,1,T),this.CTAB.rows.splice(C,1,b);var y=this.CTAB.contributions.map((function(t){return t[g]}));this.CTAB.contributions.forEach((function(t){return t[g]=t[C]})),this.CTAB.contributions.forEach((function(t,e){return t[C]=y[e]}))}this.$nextTick((function(){e.moveCurrentSquare(t)}))},moveCurrentSquare:function(t){null===this.focusedInput&&(1===t?this.cursor.col<this.CTAB.cols.length&&this.cursor.col++:2===t?(0===this.cursor.row&&this.cursor.col>1||this.cursor.row>0&&this.cursor.col>0)&&this.cursor.col--:3===t?(0===this.cursor.col&&this.cursor.row>1||this.cursor.col>0&&this.cursor.row>0)&&this.cursor.row--:4===t&&this.cursor.row<this.CTAB.rows.length&&this.cursor.row++),this.drawCursor()},drawCursor:function(){var t=document.querySelectorAll(".cursor");[].forEach.call(t,(function(t){t.classList.remove("cursor")}));var e=document.querySelector(".grid-c"+this.cursor.col+"r"+this.cursor.row);e.classList.add("cursor"),e.focus()},editLabel:function(){null!==this.focusedInput?this.setInputFocus(this.focusedInput):0===this.cursor.row?this.setInputFocus("col"+this.cursor.col):0===this.cursor.col&&this.setInputFocus("row"+this.cursor.row)},editLabelClick:function(t,e){0===t?(this.editContents(-1,e-1),this.setInputFocus("row"+this.cursor.row)):0===e&&(this.editContents(t-1,-1),this.setInputFocus("col"+this.cursor.col))},setInputFocus:function(t){this.focusedInput!==t?(this.$refs[t][0].focus(),this.focusedInput=t):(this.$refs[this.focusedInput][0].blur(),this.focusedInput=null)},resetTable:function(){console.log("Resetting CTAB..."),this.cursor={row:1,col:1},this.CTAB={version:this.CTAB.version,cols:["undefined"],rows:["empty"],contributions:[[0]]},this.drawCursor()},loadTemplate:function(t){console.log("Loading template with categories: ".concat(t.categories)),this.cursor={row:1,col:1},this.drawCursor(),this.CTAB.rows=t.categories;for(var e=[],o=0;o<this.CTAB.cols.length;o++)e.push(new Array(this.CTAB.rows.length).fill(this.metadata.lowerDegreeLimit));this.CTAB.contributions=e},loadTemplateString:function(){this.loadTemplate(JSON.parse(this.configString.config)),this.templateDialog=!1},checkConfigString:function(){var t=x(this.configString.config),e=Object(_["a"])(t,2),o=e[0],r=e[1];o?(this.configString.valid=!0,this.configString.error=""):(this.configString.valid=!1,this.configString.error=r)},handleKeyPress:function(t){this.keysDown[t.key]=!0,this.keysDown["Control"]&&(this.keysDown["C"]||this.keysDown["c"])?(t.preventDefault(),this.addColumn("undefined")):this.keysDown["Control"]&&(this.keysDown["R"]||this.keysDown["r"])?(t.preventDefault(),this.addRow("empty")):this.keysDown["Control"]&&(this.keysDown["Q"]||this.keysDown["q"])?(t.preventDefault(),this.removeRow()):this.keysDown["Control"]&&(this.keysDown["S"]||this.keysDown["s"])?(t.preventDefault(),this.removeColumn()):this.keysDown["Shift"]&&this.keysDown["ArrowRight"]?(this.rearrangeCTAB(1),t.preventDefault()):this.keysDown["Shift"]&&this.keysDown["ArrowLeft"]?(this.rearrangeCTAB(2),t.preventDefault()):this.keysDown["Shift"]&&this.keysDown["ArrowUp"]?(this.rearrangeCTAB(3),t.preventDefault()):this.keysDown["Shift"]&&this.keysDown["ArrowDown"]?(this.rearrangeCTAB(4),t.preventDefault()):this.keysDown["?"]?(this.resetTable(),t.preventDefault()):this.keysDown["Enter"]?(this.editLabel(),t.preventDefault()):this.keysDown["ArrowRight"]?this.moveCurrentSquare(1):this.keysDown["ArrowLeft"]?this.moveCurrentSquare(2):this.keysDown["ArrowUp"]?this.moveCurrentSquare(3):this.keysDown["ArrowDown"]?this.moveCurrentSquare(4):this.keysDown["1"]?this.setContribution(0):this.keysDown["2"]?this.setContribution(1):this.keysDown["3"]?this.setContribution(2):this.keysDown["+"]||this.keysDown["]"]?(this.changeContribution(!0),t.preventDefault()):(this.keysDown["_"]||this.keysDown["["])&&(this.changeContribution(!1),t.preventDefault())},handleKeyUp:function(t){this.keysDown[t.key]=!1},parseQuery:function(){var t=A(this.$route.query);B(t)&&(console.log("[Parser] adding CTAB from query string!"),this.CTAB=t)}},mounted:function(){this.tableEl=document.querySelector("#editor-tbl"),console.log("Contribution table editor loaded."),this.drawCursor(),window.addEventListener("keydown",this.handleKeyPress),window.addEventListener("keyup",this.handleKeyUp),this.templates=rt,null!==localStorage.getItem("meta_lowerDegreeLimit")?this.metadata.lowerDegreeLimit=Number(localStorage.getItem("meta_lowerDegreeLimit")):localStorage.setItem("meta_lowerDegreeLimit",String(this.metadata.lowerDegreeLimit)),null!==localStorage.getItem("meta_upperDegreeLimit")?this.metadata.upperDegreeLimit=Number(localStorage.getItem("meta_upperDegreeLimit")):localStorage.setItem("meta_upperDegreeLimit",String(this.metadata.upperDegreeLimit)),this.parseQuery(),document.getElementById("editor-tbl").addEventListener("copy",(function(t){t.preventDefault(),t.clipboardData.setData("Text","Please copy the table from the HTML export, not the editor.")}))}},nt=it,st=(o("ca92"),o("0798")),at=o("169a"),ct=o("8860"),lt=o("da13"),ut=o("5d23"),dt=o("1baa"),ht=o("2fa4"),vt=o("8654"),pt=o("a844"),ft=o("3a2f"),mt=Object(l["a"])(nt,F,H,!1,null,"6a1afa00",null),Ct=mt.exports;d()(mt,{VAlert:st["a"],VBtn:$["a"],VCard:Q["a"],VCardActions:Y["a"],VCardText:Y["b"],VCardTitle:Y["c"],VDialog:at["a"],VIcon:I["a"],VList:ct["a"],VListItem:lt["a"],VListItemContent:ut["a"],VListItemGroup:dt["a"],VListItemTitle:ut["b"],VSpacer:ht["a"],VTextField:vt["a"],VTextarea:pt["a"],VTooltip:ft["a"]});var gt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticStyle:{padding:"1rem"}},[o("svg",{staticClass:"svg-CTAB",attrs:{xmlns:"http://www.w3.org/2000/svg"}},[o("g",{staticClass:"CTAB-group"},[o("g",{staticClass:"svg-CTAB-header"},[o("g",{staticClass:"svg-CTAB-row"},[o("text",{staticClass:"svg-CTAB-version",attrs:{transform:"translate("+-t.CTAB_padding+","+-t.CTAB_padding+")"}},[t._v(" CTAB V"+t._s(t.CTAB.version)+" "),o("tspan",{staticClass:"CTAB-hidden"},[t._v("|")])])]),t._l(t.CTAB.cols,(function(e,r){return o("g",{key:e.id,attrs:{transform:"translate("+(r+.5)*t.CTAB_level_width+","+-t.CTAB_padding+") rotate(-70)"}},[o("text",{staticClass:"svg-CTAB-col-text"},[t._v(t._s(e)),o("tspan",{staticClass:"CTAB-hidden"},[t._v("|")])])])}))],2),t._l(t.CTAB.rows,(function(e,r){return o("g",{key:e.id,attrs:{transform:"translate(0,"+t.CTAB_level_height*r+")"}},[o("g",{staticClass:"svg-CTAB-row"},[o("text",{staticClass:"svg-CTAB-level-txt",attrs:{transform:"translate("+-t.CTAB_padding+","+t.CTAB_level_height/2+")"}},[t._v(" "+t._s(e)+" "),o("tspan",{staticClass:"CTAB-hidden"},[t._v("|")])])]),t._l(t.CTAB.contributions.map((function(t){return t[r]})),(function(e,r){return o("g",{key:e.id,staticClass:"svg-CTAB-level",class:"svg-CTAB-contribution-level-"+e,attrs:{transform:"translate("+r*t.CTAB_level_width+",0)"}},[o("rect",{staticClass:"svg-CTAB-level",attrs:{width:t.CTAB_level_width,height:t.CTAB_level_height}}),t._v(" "),o("text",{staticClass:"svg-CTAB-level-txt",attrs:{transform:"translate("+t.CTAB_level_width/2+","+t.CTAB_level_height/2+")"}},[t._v(" "+t._s("*".repeat(e))+"| ")])])}))],2)}))],2)]),t.showCopyImage?o("img",{attrs:{src:"data:image/svg;base64,R0lGODlhEAAQAMQAAORHHOVSKudfOulrSOp3WOyDZu6QdvCchPGolf",alt:"svg-CTAB-for-clipboard"}}):t._e(),t.loaded&&t.showSource?o("div",{staticClass:"CTAB-source-view"},[o("div",{staticStyle:{display:"flex"}},[o("v-btn",{staticStyle:{margin:"0rem 1rem"},attrs:{depressed:"",color:"var(--theme-reddish)",dark:""},on:{click:t.copyToClipboard}},[t._v(" Copy svg to clipboard ")]),o("v-btn",{attrs:{depressed:"",color:"var(--theme-reddish)",dark:""},on:{click:t.saveSVG}},[t._v(" Save as .SVG for editors ")])],1),o("div",{staticClass:"CTAB-source-view-title"},[t._v("SVG css styling")]),t._v(" "+t._s(t.formatCSS(t.CTABstyle))+" ")]):t._e(),o("style",{ref:"svgCTABstyle",tag:"component"},[t._v(" .svg-CTAB{ display: inline-block; } .svg-CTAB-level { stroke-width: 4px; stroke: black; } .svg-CTAB-contribution-level-0 { fill: white; } .svg-CTAB-contribution-level-1 { fill: #A0A0A0; } .svg-CTAB-contribution-level-2 { fill: #303030; } .svg-CTAB-version { fill: #DCDCDC; text-anchor: end; alignment-baseline: baseline; } text.svg-CTAB-level-txt { alignment-baseline: middle; stroke-width: 0; } .svg-CTAB-row text.svg-CTAB-level-txt { text-anchor: end; } .CTAB-hidden { fill: white } ")])],1)},bt=[],Tt={name:"svgCTAB",props:{CTAB:{type:Object,default:function(){return{cols:["none"],rows:["an error occurred"],contributions:[[0]],version:" undefined"}}}},data:function(){return{CTAB_level_width:40,CTAB_level_height:40,CTAB_padding:10,loaded:!1,showSource:!0,CTABstyle:null,showCopyImage:!1,inkscapeMode:!1}},methods:{formatCSS:function(t){var e=t.outerHTML,o="\t",r="";return e.split(/([{;}])/).forEach((function(t){"{"===t?r+=t+"\r\n"+o:"}"===t?(r=r.substring(0,r.length-2),r+=t+"\r\n"):r+=";"===t?t+"\r\n\t":t})),r},copyToClipboard:function(){var t=document.querySelector(".svg-CTAB").outerHTML;t=this.sanitize(t,"inkscape"),navigator.permissions.query({name:"clipboard-write"}).then((function(e){"granted"!=e.state&&"prompt"!=e.state||navigator.clipboard.writeText(t).then((function(){console.log("Wrote SVG to clipboard!")}),(function(){console.error("clipboard failed...")}))}))},saveSVG:function(){var t=document.querySelector(".svg-CTAB").outerHTML;t=this.sanitize(t,"inkscape");var e=new Blob([t],{type:"text/txt"}),o=window.document.createElement("a");o.href=window.URL.createObjectURL(e),o.download=this.CTAB.cols[0].replace(/\s+/g,"")+".svg",document.body.appendChild(o),o.click(),document.body.removeChild(o)},sanitize:function(t){return t.replace('<g class="CTAB-group">',"<style>"+this.$refs.svgCTABstyle.innerHTML+'</style><g class="CTAB-group">')},copyToClipboardOld:function(){var t=this;this.showCopyImage=!0,this.$nextTick((function(){var e,o,r=document.querySelector(".svg-CTAB");document.body.createTextRange?(e=document.body.createTextRange(),e.moveToElement(r),e.select()):window.getSelection&&(o=window.getSelection(),e=document.createRange(),e.selectNodeContents(r),o.removeAllRanges(),o.addRange(e)),document.execCommand("copy"),window.getSelection().removeAllRanges(),t.showCopyImage=!1,console.log("Copied SVG to clipboard!")}))}},mounted:function(){var t=this,e=A(this.$route.query);B(e)&&(console.log("[Parser] adding CTAB from query string!"),this.CTAB=e),this.$nextTick((function(){t.CTABstyle=t.$refs.svgCTABstyle,t.loaded=!0,t.$nextTick((function(){var t=document.querySelector(".svg-CTAB"),e=t.getBBox();t.setAttribute("width",e.width+"px"),t.setAttribute("height",e.height+"px"),t.setAttribute("viewBox","".concat(e.x," ").concat(e.y," ").concat(e.width," ").concat(e.height+5))}))}))}},yt=Tt,wt=(o("12aa"),Object(l["a"])(yt,gt,bt,!1,null,null,null)),_t=wt.exports;d()(wt,{VBtn:$["a"]});var At=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{staticClass:"checker-header"},[t._m(0),o("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,i=e.attrs;return[o("v-btn",t._g(t._b({attrs:{disabled:!t.validCTAB,color:"var(--theme-reddish)",dark:""},on:{click:t.prettify}},"v-btn",i,!1),r),[t._v(" Prettify CTAB ")])]}}])},[o("span",[t._v("Make the formatting of your CTAB string prettier & easier to read.")])])],1),o("div",{staticClass:"checker-box"},[o("div",{staticClass:"pastebox"},[o("v-textarea",{attrs:{filled:"",clearable:"",label:"Paste plain CTAB here. Press tab or defocus field to parse.",color:"var(--theme-reddish)","auto-grow":""},on:{change:t.checkCTABstring},model:{value:t.CTABstring,callback:function(e){t.CTABstring=e},expression:"CTABstring"}})],1),t.validCTAB?o("plainCTAB",{attrs:{"show-source":!1,CTAB:t.parsedCTAB}}):t._e()],1),o("v-snackbar",{scopedSlots:t._u([{key:"action",fn:function(e){var r=e.attrs;return[o("v-btn",t._b({attrs:{color:"pink",text:""},on:{click:function(e){t.snackbar=!1}}},"v-btn",r,!1),[t._v(" Close ")])]}}]),model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t.validCTAB?o("v-icon",[t._v("mdi-check-circle")]):t._e(),t.validCTAB?t._e():o("v-icon",[t._v("mdi-alert")]),t._v(" "+t._s(t.snackText)+" ")],1)],1)},kt=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"checker-title"},[t._v("CTAB string parser "),o("span",{staticClass:"checker-title-minor"},[t._v("- check validity of .CTAB string")])])}],Bt={name:"CTABchecker",components:{plainCTAB:E},data:function(){return{CTABstring:null,parsedCTAB:{cols:["loading..."],rows:["loading..."],contributions:[[0]],version:"0.2"},validCTAB:!1,snackbar:!1,snackText:""}},methods:{checkCTABstring:function(){console.log("New string detected, checking..."),console.log(this.CTABstring);try{var t=k(this.CTABstring);B(t)?(this.parsedCTAB=t,this.updateCTABstatus(!0)):this.updateCTABstatus(!1)}catch(e){console.error(e),this.updateCTABstatus(!1)}},updateCTABstatus:function(t){this.validCTAB=t,this.validCTAB?(this.snackText="String is valid CTAB. Check if output table is as expected",this.snackbar=!0):(this.snackText="Error Parsing CTAB String. Check console for hints.",this.snackbar=!0)},prettify:function(){var t=G(this.parsedCTAB,!1);this.CTABstring=t}}},xt=Bt,St=(o("1917"),Object(l["a"])(xt,At,kt,!1,null,"49ddfa96",null)),Dt=St.exports;d()(St,{VBtn:$["a"],VIcon:I["a"],VSnackbar:tt["a"],VTextarea:pt["a"],VTooltip:ft["a"]}),r["a"].config.productionTip=!1,r["a"].use(i["a"]);var Lt=[{path:"/",component:P,name:"promotional"},{path:"/editor",component:Ct,name:"editor"},{path:"/plain-CTAB",component:E,name:"html-CTAB",props:!0},{path:"/svg-CTAB",component:_t,name:"svg-CTAB",props:!0},{path:"/check-CTAB",component:Dt,name:"CTAB-checker"}],Et=new i["a"]({routes:Lt});new r["a"]({vuetify:m,router:Et,render:function(t){return t(p)}}).$mount("#app")},"6a29":function(t,e,o){"use strict";o("ac29")},"7abd":function(t,e,o){},"85ec":function(t,e,o){},8796:function(t,e,o){t.exports=o.p+"img/blob_2.caa23e05.svg"},"89d6":function(t,e,o){t.exports=o.p+"img/blob_3.4c1c599c.svg"},a114:function(t,e,o){t.exports=o.p+"img/promotional_export_options.cb797294.png"},ac29:function(t,e,o){},ca92:function(t,e,o){"use strict";o("3c59")},cc41:function(t,e,o){"use strict";o("d142")},d142:function(t,e,o){}});
//# sourceMappingURL=app.a458d216.js.map